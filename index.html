<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>The VarLog</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>The VarLog</h1>
        <p>Committed to making the web move faster one day at a time.</p>

	<p class="view">
		<a href="https://twitter.com/greedoshotlast"><img src="http://www.kirkwood.edu/images/favicon-twitter.png" style="height:16px; width:16px;"></a>
		<a href="http://linkedin.com/in/joeecabrera/"><img src="http://www.wikicloud.co/images/network_icons/linkedin_favicon.png" style="height:16px; width:16px;"></a>
		<a href="https://www.facebook.com/joe.ed.cabrera"><img src="https://fbstatic-a.akamaihd.net/rsrc.php/yP/r/Ivn-CVe5TGK.ico" style="height:16px; width:16px;"></a>
		<a href="https://github.com/greedo"><img src="https://github.com/favicon.ico" style="height:16px; width:16px;"></a>
		<a href="http://www.last.fm/user/gtrrockstr"><img src="http://cdn.last.fm/flatness/favicon.2.ico" style="height:16px; width:16px;"></a>
		<a href="http://www.rdio.com/people/gtrrockstr/"><img src="http://rdio-a.akamaihd.net/media/favicon_rdio_2012_11_15.ico" style="height:16px; width:16px;"></a>
		<a href="http://news.ycombinator.com/user?id=greedoshotlast"><img src="http://ycombinator.com/favicon.ico" style="height:16px; width:16px;"></a>
	</p>

      </header>
      <section>
	<h3>User Tracking for Analytics</h3>
		<p>The Google Analytics tracking code works for very well and it served as a prototype for what I need accomplish which was tracking Facebook users on a third-party site.</p>
		<pre><code>(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.app = '1234567890';
        			ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'eminorlabs.com/media/tracking.js';
        			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</code></pre><p>
		Let's break down exactly what going on there. First we are creating a new DOM script element. Also note the setting of HTML5's new async attribute. Async scripts begin to download immediately without pausing your browser's rending engine parser. These scripts then execute at the first opportunity after it finishes downloading and before the window's load event. As a word of caution, async scripts are not guaranteed to be executed in the order they occur in the page.</p><p>
		Next we set a global variable that will allow use to pass our unique tracker id to the next script. Then we set the source of our new script DOM element to the location of our tracking script hosted on our server. Noted we look at the current documents protocol to decide how to send it. This is key for secure sites that might need that https version of the script.</p><p>
		Finally we attach our new script directly before the first script on our page (which most likely is our client tracking snippet). Done, our client tracking code is ready to go!</p>
	</section>
	<footer>
        	<p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
